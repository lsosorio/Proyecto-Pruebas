òÛ
ãC:\Users\LuisOsorio\Desktop\Universidad\Semestre II\Pruebas\Proyecto Arquitectura\postgress\src\Persistence\Repository\GenericRepository.cs
	namespace

 	

Repository


 
{ 
public 

class 
GenericRepository "
<" #
T# $
>$ %
:& '
IGenericRepository( :
<: ;
T; <
>< =
where> C
TD E
:F G
classH M
{ 
private 
readonly 
OrderBy  
<  !
T! "
>" #
DefaultOrderBy$ 2
=3 4
new5 8
OrderBy9 @
<@ A
TA B
>B C
(C D
qryD G
=>H J
qryK N
.N O
OrderByO V
(V W
eW X
=>Y [
e\ ]
)] ^
)^ _
;_ `
	protected  
ApplicationDbContext &
_context' /
;/ 0
public 
GenericRepository  
(  ! 
ApplicationDbContext! 5
context6 =
)= >
{ 	
_context 
= 
context 
; 
} 	
private 

IQueryable 
< 
T 
> 
PerformInclusions /
(/ 0
IEnumerable0 ;
<; <

Expression< F
<F G
FuncG K
<K L
TL M
,M N
objectO U
>U V
>V W
>W X
includePropertiesY j
,j k

IQueryable6 @
<@ A
TA B
>B C
queryD I
)I J
{ 	
return 
includeProperties $
.$ %
	Aggregate% .
(. /
query/ 4
,4 5
(6 7
current7 >
,> ?
includeProperty@ O
)O P
=>Q S
currentT [
.[ \
Include\ c
(c d
includePropertyd s
)s t
)t u
;u v
} 	
public"" 
virtual"" 

IQueryable"" !
<""! "
T""" #
>""# $
GetAll""% +
(""+ ,
)"", -
{## 	
return$$ 
_context$$ 
.$$ 
Set$$ 
<$$  
T$$  !
>$$! "
($$" #
)$$# $
;$$$ %
}%% 	
public'' 
virtual'' 
async'' 
Task'' !
<''! "
ICollection''" -
<''- .
T''. /
>''/ 0
>''0 1

GetAllAsyn''2 <
(''< =
)''= >
{(( 	
return** 
await** 
_context** !
.**! "
Set**" %
<**% &
T**& '
>**' (
(**( )
)**) *
.*** +
ToListAsync**+ 6
(**6 7
)**7 8
;**8 9
}++ 	
public-- 
virtual-- 
T-- 
Get-- 
(-- 
Guid-- !
id--" $
)--$ %
{.. 	
return// 
_context// 
.// 
Set// 
<//  
T//  !
>//! "
(//" #
)//# $
.//$ %
Find//% )
(//) *
id//* ,
)//, -
;//- .
}00 	
public22 
virtual22 
async22 
Task22 !
<22! "
T22" #
>22# $
GetAsync22% -
(22- .
Guid22. 2
id223 5
,225 6
params227 =

Expression22> H
<22H I
Func22I M
<22M N
T22N O
,22O P
object22Q W
>22W X
>22X Y
[22Y Z
]22Z [
includeProperties22\ m
)22m n
{33 	
return44 
await44 
_context44 !
.44! "
Set44" %
<44% &
T44& '
>44' (
(44( )
)44) *
.44* +
	FindAsync44+ 4
(444 5
id445 7
)447 8
;448 9
}55 	
public77 
virtual77 
T77 
Add77 
(77 
T77 
t77  
)77  !
{88 	
_context:: 
.:: 
Set:: 
<:: 
T:: 
>:: 
(:: 
):: 
.:: 
Add:: !
(::! "
t::" #
)::# $
;::$ %
return;; 
t;; 
;;; 
}<< 	
public>> 
virtual>> 
async>> 
Task>> !
<>>! "
T>>" #
>>># $
AddAsync>>% -
(>>- .
T>>. /
t>>0 1
)>>1 2
{?? 	
awaitAA 
_contextAA 
.AA 
SetAA 
<AA 
TAA  
>AA  !
(AA! "
)AA" #
.AA# $
AddAsyncAA$ ,
(AA, -
tAA- .
)AA. /
;AA/ 0
returnBB 
tBB 
;BB 
}CC 	
publicDD 
virtualDD 
asyncDD 
TaskDD !
<DD! "
boolDD" &
>DD& '
AddRangeAsyncDD( 5
(DD5 6
IEnumerableDD6 A
<DDA B
TDDB C
>DDC D
tDDE F
)DDF G
{EE 	
awaitFF 
_contextFF 
.FF 
SetFF 
<FF 
TFF  
>FF  !
(FF! "
)FF" #
.FF# $
BulkInsertAsyncFF$ 3
(FF3 4
tFF4 5
)FF5 6
;FF6 7
returnGG 
trueGG 
;GG 
}HH 	
publicKK 
virtualKK 
boolKK 
AddRangeKK $
(KK$ %
IEnumerableKK% 0
<KK0 1
TKK1 2
>KK2 3
tKK4 5
)KK5 6
{LL 	
_contextNN 
.NN 
SetNN 
<NN 
TNN 
>NN 
(NN 
)NN 
.NN 

BulkInsertNN (
(NN( )
tNN) *
)NN* +
;NN+ ,
returnPP 
truePP 
;PP 
}QQ 	
publicTT 
virtualTT 
TTT 
FindTT 
(TT 

ExpressionTT (
<TT( )
FuncTT) -
<TT- .
TTT. /
,TT/ 0
boolTT1 5
>TT5 6
>TT6 7
matchTT8 =
,TT= >
paramsTT? E

ExpressionTTF P
<TTP Q
FuncTTQ U
<TTU V
TTTV W
,TTW X
objectTTY _
>TT_ `
>TT` a
[TTa b
]TTb c
includePropertiesTTd u
)TTu v
{UU 	

IQueryableVV 
<VV 
TVV 
>VV 
queryVV 
=VV  !
_contextVV" *
.VV* +
SetVV+ .
<VV. /
TVV/ 0
>VV0 1
(VV1 2
)VV2 3
.VV3 4
WhereVV4 9
(VV9 :
matchVV: ?
)VV? @
;VV@ A
queryWW 
=WW 
PerformInclusionsWW %
(WW% &
includePropertiesWW& 7
,WW7 8
queryWW9 >
)WW> ?
;WW? @
returnXX 
queryXX 
.XX 
FirstOrDefaultXX '
(XX' (
matchXX( -
)XX- .
;XX. /
}YY 	
public[[ 
virtual[[ 
async[[ 
Task[[ !
<[[! "
T[[" #
>[[# $
	FindAsync[[% .
([[. /

Expression[[/ 9
<[[9 :
Func[[: >
<[[> ?
T[[? @
,[[@ A
bool[[B F
>[[F G
>[[G H
match[[I N
,[[N O
params[[P V

Expression[[W a
<[[a b
Func[[b f
<[[f g
T[[g h
,[[h i
object[[j p
>[[p q
>[[q r
[[[r s
][[s t
includeProperties	[[u Ü
)
[[Ü á
{\\ 	

IQueryable]] 
<]] 
T]] 
>]] 
query]] 
=]]  !
_context]]" *
.]]* +
Set]]+ .
<]]. /
T]]/ 0
>]]0 1
(]]1 2
)]]2 3
.]]3 4
Where]]4 9
(]]9 :
match]]: ?
)]]? @
;]]@ A
query^^ 
=^^ 
PerformInclusions^^ %
(^^% &
includeProperties^^& 7
,^^7 8
query^^9 >
)^^> ?
;^^? @
return__ 
await__ 
query__ 
.__ 
FirstOrDefaultAsync__ 2
(__2 3
match__3 8
)__8 9
;__9 :
}`` 	
publicbb 
virtualbb 
ICollectionbb "
<bb" #
Tbb# $
>bb$ %
FindAllbb& -
(bb- .

Expressionbb. 8
<bb8 9
Funcbb9 =
<bb= >
Tbb> ?
,bb? @
boolbbA E
>bbE F
>bbF G
matchbbH M
,bbM N
paramsbbO U

ExpressionbbV `
<bb` a
Funcbba e
<bbe f
Tbbf g
,bbg h
objectbbi o
>bbo p
>bbp q
[bbq r
]bbr s
includeProperties	bbt Ö
)
bbÖ Ü
{cc 	

IQueryabledd 
<dd 
Tdd 
>dd 
querydd 
=dd  !
_contextdd" *
.dd* +
Setdd+ .
<dd. /
Tdd/ 0
>dd0 1
(dd1 2
)dd2 3
.dd3 4
Wheredd4 9
(dd9 :
matchdd: ?
)dd? @
;dd@ A
queryee 
=ee 
PerformInclusionsee %
(ee% &
includePropertiesee& 7
,ee7 8
queryee9 >
)ee> ?
;ee? @
returnff 
queryff 
.ff 
ToListff 
(ff  
)ff  !
;ff! "
}gg 	
publicii 
virtualii 
asyncii 
Taskii !
<ii! "
ICollectionii" -
<ii- .
Tii. /
>ii/ 0
>ii0 1
FindAllAsyncii2 >
(ii> ?

Expressionii? I
<iiI J
FunciiJ N
<iiN O
TiiO P
,iiP Q
booliiR V
>iiV W
>iiW X
matchiiY ^
,ii^ _
paramsii` f

Expressioniig q
<iiq r
Funciir v
<iiv w
Tiiw x
,iix y
object	iiz Ä
>
iiÄ Å
>
iiÅ Ç
[
iiÇ É
]
iiÉ Ñ
includeProperties
iiÖ ñ
)
iiñ ó
{jj 	

IQueryablekk 
<kk 
Tkk 
>kk 
querykk 
=kk  !
_contextkk" *
.kk* +
Setkk+ .
<kk. /
Tkk/ 0
>kk0 1
(kk1 2
)kk2 3
.kk3 4
Wherekk4 9
(kk9 :
matchkk: ?
)kk? @
;kk@ A
queryll 
=ll 
PerformInclusionsll %
(ll% &
includePropertiesll& 7
,ll7 8
queryll9 >
)ll> ?
;ll? @
returnmm 
awaitmm 
querymm 
.mm 
ToListAsyncmm *
(mm* +
)mm+ ,
;mm, -
}nn 	
publicpp 
virtualpp 
voidpp 
Deletepp "
(pp" #
Tpp# $
entitypp% +
)pp+ ,
{qq 	
_contextrr 
.rr 
Setrr 
<rr 
Trr 
>rr 
(rr 
)rr 
.rr 
Removerr $
(rr$ %
entityrr% +
)rr+ ,
;rr, -
}ss 	
publicuu 
virtualuu 
voiduu 
Deleteuu "
(uu" #
IEnumerableuu# .
<uu. /
Tuu/ 0
>uu0 1
entityuu2 8
)uu8 9
{vv 	
_contextww 
.ww 
Setww 
<ww 
Tww 
>ww 
(ww 
)ww 
.ww 

BulkDeleteww (
(ww( )
entityww) /
)ww/ 0
;ww0 1
}xx 	
public{{ 
virtual{{ 
T{{ 
Update{{ 
({{  
T{{  !
t{{" #
,{{# $
object{{% +
key{{, /
){{/ 0
{|| 	
if}} 
(}} 
t}} 
==}} 
null}} 
)}} 
return~~ 
null~~ 
;~~ 
T 
exist 
= 
_context 
. 
Set "
<" #
T# $
>$ %
(% &
)& '
.' (
Find( ,
(, -
key- 0
)0 1
;1 2
if
ÄÄ 
(
ÄÄ 
exist
ÄÄ 
!=
ÄÄ 
null
ÄÄ 
)
ÄÄ 
{
ÅÅ 
_context
ÇÇ 
.
ÇÇ 
Entry
ÇÇ 
(
ÇÇ 
exist
ÇÇ $
)
ÇÇ$ %
.
ÇÇ% &
CurrentValues
ÇÇ& 3
.
ÇÇ3 4
	SetValues
ÇÇ4 =
(
ÇÇ= >
t
ÇÇ> ?
)
ÇÇ? @
;
ÇÇ@ A
}
ÉÉ 
return
ÑÑ 
exist
ÑÑ 
;
ÑÑ 
}
ÖÖ 	
public
áá 
virtual
áá 
async
áá 
Task
áá !
<
áá! "
T
áá" #
>
áá# $
UpdateAsync
áá% 0
(
áá0 1
T
áá1 2
t
áá3 4
,
áá4 5
object
áá6 <
key
áá= @
)
áá@ A
{
àà 	
if
ââ 
(
ââ 
t
ââ 
==
ââ 
null
ââ 
)
ââ 
return
ää 
null
ää 
;
ää 
T
ãã 
exist
ãã 
=
ãã 
await
ãã 
_context
ãã $
.
ãã$ %
Set
ãã% (
<
ãã( )
T
ãã) *
>
ãã* +
(
ãã+ ,
)
ãã, -
.
ãã- .
	FindAsync
ãã. 7
(
ãã7 8
key
ãã8 ;
)
ãã; <
;
ãã< =
if
åå 
(
åå 
exist
åå 
!=
åå 
null
åå 
)
åå 
{
çç 
_context
éé 
.
éé 
Entry
éé 
(
éé 
exist
éé $
)
éé$ %
.
éé% &
CurrentValues
éé& 3
.
éé3 4
	SetValues
éé4 =
(
éé= >
t
éé> ?
)
éé? @
;
éé@ A
}
èè 
return
êê 
exist
êê 
;
êê 
}
ëë 	
public
ìì 
virtual
ìì 
async
ìì 
Task
ìì !
<
ìì! "
T
ìì" #
>
ìì# $

UpdateAsyn
ìì% /
(
ìì/ 0
T
ìì0 1
t
ìì2 3
,
ìì3 4
object
ìì5 ;
key
ìì< ?
)
ìì? @
{
îî 	
if
ïï 
(
ïï 
t
ïï 
==
ïï 
null
ïï 
)
ïï 
return
ññ 
null
ññ 
;
ññ 
T
óó 
exist
óó 
=
óó 
await
óó 
_context
óó $
.
óó$ %
Set
óó% (
<
óó( )
T
óó) *
>
óó* +
(
óó+ ,
)
óó, -
.
óó- .
	FindAsync
óó. 7
(
óó7 8
key
óó8 ;
)
óó; <
;
óó< =
if
òò 
(
òò 
exist
òò 
!=
òò 
null
òò 
)
òò 
{
ôô 
_context
öö 
.
öö 
Entry
öö 
(
öö 
exist
öö $
)
öö$ %
.
öö% &
CurrentValues
öö& 3
.
öö3 4
	SetValues
öö4 =
(
öö= >
t
öö> ?
)
öö? @
;
öö@ A
}
õõ 
return
úú 
exist
úú 
;
úú 
}
ùù 	
public
üü 
virtual
üü 
int
üü 
Count
üü  
(
üü  !
)
üü! "
{
†† 	
return
°° 
_context
°° 
.
°° 
Set
°° 
<
°°  
T
°°  !
>
°°! "
(
°°" #
)
°°# $
.
°°$ %
Count
°°% *
(
°°* +
)
°°+ ,
;
°°, -
}
¢¢ 	
public
§§ 
virtual
§§ 
async
§§ 
Task
§§ !
<
§§! "
int
§§" %
>
§§% &

CountAsync
§§' 1
(
§§1 2
)
§§2 3
{
•• 	
return
¶¶ 
await
¶¶ 
_context
¶¶ !
.
¶¶! "
Set
¶¶" %
<
¶¶% &
T
¶¶& '
>
¶¶' (
(
¶¶( )
)
¶¶) *
.
¶¶* +

CountAsync
¶¶+ 5
(
¶¶5 6
)
¶¶6 7
;
¶¶7 8
}
ßß 	
public
™™ 
virtual
™™ 

IQueryable
™™ !
<
™™! "
T
™™" #
>
™™# $
FindBy
™™% +
(
™™+ ,

Expression
™™, 6
<
™™6 7
Func
™™7 ;
<
™™; <
T
™™< =
,
™™= >
bool
™™? C
>
™™C D
>
™™D E
	predicate
™™F O
)
™™O P
{
´´ 	

IQueryable
¨¨ 
<
¨¨ 
T
¨¨ 
>
¨¨ 
query
¨¨ 
=
¨¨  !
_context
¨¨" *
.
¨¨* +
Set
¨¨+ .
<
¨¨. /
T
¨¨/ 0
>
¨¨0 1
(
¨¨1 2
)
¨¨2 3
.
¨¨3 4
Where
¨¨4 9
(
¨¨9 :
	predicate
¨¨: C
)
¨¨C D
;
¨¨D E
return
≠≠ 
query
≠≠ 
;
≠≠ 
}
ÆÆ 	
public
∞∞ 
virtual
∞∞ 
async
∞∞ 
Task
∞∞ !
<
∞∞! "
ICollection
∞∞" -
<
∞∞- .
T
∞∞. /
>
∞∞/ 0
>
∞∞0 1

FindByAsyn
∞∞2 <
(
∞∞< =

Expression
∞∞= G
<
∞∞G H
Func
∞∞H L
<
∞∞L M
T
∞∞M N
,
∞∞N O
bool
∞∞P T
>
∞∞T U
>
∞∞U V
	predicate
∞∞W `
)
∞∞` a
{
±± 	
return
≤≤ 
await
≤≤ 
_context
≤≤ !
.
≤≤! "
Set
≤≤" %
<
≤≤% &
T
≤≤& '
>
≤≤' (
(
≤≤( )
)
≤≤) *
.
≤≤* +
Where
≤≤+ 0
(
≤≤0 1
	predicate
≤≤1 :
)
≤≤: ;
.
≤≤; <
ToListAsync
≤≤< G
(
≤≤G H
)
≤≤H I
;
≤≤I J
}
≥≥ 	
public
µµ 
virtual
µµ 

IQueryable
µµ !
<
µµ! "
T
µµ" #
>
µµ# $
GetAllIncluding
µµ% 4
(
µµ4 5
params
µµ5 ;

Expression
µµ< F
<
µµF G
Func
µµG K
<
µµK L
T
µµL M
,
µµM N
object
µµO U
>
µµU V
>
µµV W
[
µµW X
]
µµX Y
includeProperties
µµZ k
)
µµk l
{
∂∂ 	

IQueryable
∏∏ 
<
∏∏ 
T
∏∏ 
>
∏∏ 
	queryable
∏∏ #
=
∏∏$ %
GetAll
∏∏& ,
(
∏∏, -
)
∏∏- .
;
∏∏. /
foreach
ππ 
(
ππ 

Expression
ππ 
<
ππ  
Func
ππ  $
<
ππ$ %
T
ππ% &
,
ππ& '
object
ππ( .
>
ππ. /
>
ππ/ 0
includeProperty
ππ1 @
in
ππA C
includeProperties
ππD U
)
ππU V
{
∫∫ 
	queryable
ºº 
=
ºº 
	queryable
ºº %
.
ºº% &
Include
ºº& -
<
ºº- .
T
ºº. /
,
ºº/ 0
object
ºº1 7
>
ºº7 8
(
ºº8 9
includeProperty
ºº9 H
)
ººH I
;
ººI J
}
ΩΩ 
return
øø 
	queryable
øø 
;
øø 
}
¿¿ 	
private
√√ 
bool
√√ 
disposed
√√ 
=
√√ 
false
√√  %
;
√√% &
	protected
ƒƒ 
virtual
ƒƒ 
void
ƒƒ 
Dispose
ƒƒ &
(
ƒƒ& '
bool
ƒƒ' +
	disposing
ƒƒ, 5
)
ƒƒ5 6
{
≈≈ 	
if
∆∆ 
(
∆∆ 
!
∆∆ 
this
∆∆ 
.
∆∆ 
disposed
∆∆ 
)
∆∆ 
{
«« 
if
»» 
(
»» 
	disposing
»» 
)
»» 
{
…… 
_context
   
.
   
Dispose
   $
(
  $ %
)
  % &
;
  & '
}
ÀÀ 
this
ÃÃ 
.
ÃÃ 
disposed
ÃÃ 
=
ÃÃ 
true
ÃÃ  $
;
ÃÃ$ %
}
ÕÕ 
}
ŒŒ 	
public
”” 
virtual
”” 
IEnumerable
”” "
<
””" #
T
””# $
>
””$ %
GetPage
””& -
(
””- .
int
””. 1
startRow
””2 :
,
””: ;
int
””< ?

pageLength
””@ J
,
””J K
Func
””L P
<
””P Q

IQueryable
””Q [
<
””[ \
T
””\ ]
>
””] ^
,
””^ _
IOrderedQueryable
””` q
<
””q r
T
””r s
>
””s t
>
””t u
orderBy
””v }
=
””~ 
null””Ä Ñ
,””Ñ Ö
Func””Ü ä
<””ä ã

IQueryable””ã ï
<””ï ñ
T””ñ ó
>””ó ò
,””ò ô

IQueryable””ö §
<””§ •
T””• ¶
>””¶ ß
>””ß ®
includes””© ±
=””≤ ≥
null””¥ ∏
)””∏ π
{
‘‘ 	
if
’’ 
(
’’ 
orderBy
’’ 
==
’’ 
null
’’ 
)
’’  
orderBy
’’! (
=
’’) *
DefaultOrderBy
’’+ 9
.
’’9 :

Expression
’’: D
;
’’D E
var
◊◊ 
result
◊◊ 
=
◊◊ 
QueryDb
◊◊  
(
◊◊  !
null
◊◊! %
,
◊◊% &
orderBy
◊◊' .
,
◊◊. /
includes
◊◊0 8
)
◊◊8 9
;
◊◊9 :
return
ÿÿ 
result
ÿÿ 
.
ÿÿ 
Skip
ÿÿ 
(
ÿÿ 
startRow
ÿÿ '
)
ÿÿ' (
.
ÿÿ( )
Take
ÿÿ) -
(
ÿÿ- .

pageLength
ÿÿ. 8
)
ÿÿ8 9
.
ÿÿ9 :
ToList
ÿÿ: @
(
ÿÿ@ A
)
ÿÿA B
;
ÿÿB C
}
ŸŸ 	
public
€€ 
virtual
€€ 
async
€€ 
Task
€€ !
<
€€! "
IEnumerable
€€" -
<
€€- .
T
€€. /
>
€€/ 0
>
€€0 1
GetPageAsync
€€2 >
(
€€> ?
int
€€? B
startRow
€€C K
,
€€K L
int
€€M P

pageLength
€€Q [
,
€€[ \
Func
€€] a
<
€€a b

IQueryable
€€b l
<
€€l m
T
€€m n
>
€€n o
,
€€o p 
IOrderedQueryable€€q Ç
<€€Ç É
T€€É Ñ
>€€Ñ Ö
>€€Ö Ü
orderBy€€á é
=€€è ê
null€€ë ï
,€€ï ñ
Func€€ó õ
<€€õ ú

IQueryable€€ú ¶
<€€¶ ß
T€€ß ®
>€€® ©
,€€© ™

IQueryable€€´ µ
<€€µ ∂
T€€∂ ∑
>€€∑ ∏
>€€∏ π
includes€€∫ ¬
=€€√ ƒ
null€€≈ …
)€€…  
{
‹‹ 	
if
›› 
(
›› 
orderBy
›› 
==
›› 
null
›› 
)
››  
orderBy
››! (
=
››) *
DefaultOrderBy
››+ 9
.
››9 :

Expression
››: D
;
››D E
var
ﬂﬂ 
result
ﬂﬂ 
=
ﬂﬂ 
QueryDb
ﬂﬂ  
(
ﬂﬂ  !
null
ﬂﬂ! %
,
ﬂﬂ% &
orderBy
ﬂﬂ' .
,
ﬂﬂ. /
includes
ﬂﬂ0 8
)
ﬂﬂ8 9
;
ﬂﬂ9 :
return
‡‡ 
await
‡‡ 
result
‡‡ 
.
‡‡  
Skip
‡‡  $
(
‡‡$ %
startRow
‡‡% -
)
‡‡- .
.
‡‡. /
Take
‡‡/ 3
(
‡‡3 4

pageLength
‡‡4 >
)
‡‡> ?
.
‡‡? @
ToListAsync
‡‡@ K
(
‡‡K L
)
‡‡L M
;
‡‡M N
}
·· 	
public
„„ 
virtual
„„ 
IEnumerable
„„ "
<
„„" #
T
„„# $
>
„„$ %
	QueryPage
„„& /
(
„„/ 0
int
„„0 3
startRow
„„4 <
,
„„< =
int
„„> A

pageLength
„„B L
,
„„L M

Expression
„„N X
<
„„X Y
Func
„„Y ]
<
„„] ^
T
„„^ _
,
„„_ `
bool
„„a e
>
„„e f
>
„„f g
filter
„„h n
,
„„n o
Func
„„p t
<
„„t u

IQueryable
„„u 
<„„ Ä
T„„Ä Å
>„„Å Ç
,„„Ç É!
IOrderedQueryable„„Ñ ï
<„„ï ñ
T„„ñ ó
>„„ó ò
>„„ò ô
orderBy„„ö °
=„„¢ £
null„„§ ®
,„„® ©
Func„„™ Æ
<„„Æ Ø

IQueryable„„Ø π
<„„π ∫
T„„∫ ª
>„„ª º
,„„º Ω

IQueryable„„æ »
<„„» …
T„„…  
>„„  À
>„„À Ã
includes„„Õ ’
=„„÷ ◊
null„„ÿ ‹
)„„‹ ›
{
‰‰ 	
if
ÂÂ 
(
ÂÂ 
orderBy
ÂÂ 
==
ÂÂ 
null
ÂÂ 
)
ÂÂ  
orderBy
ÂÂ! (
=
ÂÂ) *
DefaultOrderBy
ÂÂ+ 9
.
ÂÂ9 :

Expression
ÂÂ: D
;
ÂÂD E
var
ÁÁ 
result
ÁÁ 
=
ÁÁ 
QueryDb
ÁÁ  
(
ÁÁ  !
filter
ÁÁ! '
,
ÁÁ' (
orderBy
ÁÁ) 0
,
ÁÁ0 1
includes
ÁÁ2 :
)
ÁÁ: ;
;
ÁÁ; <
return
ËË 
result
ËË 
.
ËË 
Skip
ËË 
(
ËË 
startRow
ËË '
)
ËË' (
.
ËË( )
Take
ËË) -
(
ËË- .

pageLength
ËË. 8
)
ËË8 9
.
ËË9 :
ToList
ËË: @
(
ËË@ A
)
ËËA B
;
ËËB C
}
ÈÈ 	
public
ÎÎ 
virtual
ÎÎ 
async
ÎÎ 
Task
ÎÎ !
<
ÎÎ! "
IEnumerable
ÎÎ" -
<
ÎÎ- .
T
ÎÎ. /
>
ÎÎ/ 0
>
ÎÎ0 1
QueryPageAsync
ÎÎ2 @
(
ÎÎ@ A
int
ÎÎA D
startRow
ÎÎE M
,
ÎÎM N
int
ÎÎO R

pageLength
ÎÎS ]
,
ÎÎ] ^

Expression
ÎÎ_ i
<
ÎÎi j
Func
ÎÎj n
<
ÎÎn o
T
ÎÎo p
,
ÎÎp q
bool
ÎÎr v
>
ÎÎv w
>
ÎÎw x
filter
ÎÎy 
,ÎÎ Ä
FuncÎÎÅ Ö
<ÎÎÖ Ü

IQueryableÎÎÜ ê
<ÎÎê ë
TÎÎë í
>ÎÎí ì
,ÎÎì î!
IOrderedQueryableÎÎï ¶
<ÎÎ¶ ß
TÎÎß ®
>ÎÎ® ©
>ÎÎ© ™
orderByÎÎ´ ≤
=ÎÎ≥ ¥
nullÎÎµ π
,ÎÎπ ∫
FuncÎÎª ø
<ÎÎø ¿

IQueryableÎÎ¿  
<ÎÎ  À
TÎÎÀ Ã
>ÎÎÃ Õ
,ÎÎÕ Œ

IQueryableÎÎœ Ÿ
<ÎÎŸ ⁄
TÎÎ⁄ €
>ÎÎ€ ‹
>ÎÎ‹ ›
includesÎÎﬁ Ê
=ÎÎÁ Ë
nullÎÎÈ Ì
)ÎÎÌ Ó
{
ÏÏ 	
if
ÌÌ 
(
ÌÌ 
orderBy
ÌÌ 
==
ÌÌ 
null
ÌÌ 
)
ÌÌ  
orderBy
ÌÌ! (
=
ÌÌ) *
DefaultOrderBy
ÌÌ+ 9
.
ÌÌ9 :

Expression
ÌÌ: D
;
ÌÌD E
var
ÔÔ 
result
ÔÔ 
=
ÔÔ 
QueryDb
ÔÔ  
(
ÔÔ  !
filter
ÔÔ! '
,
ÔÔ' (
orderBy
ÔÔ) 0
,
ÔÔ0 1
includes
ÔÔ2 :
)
ÔÔ: ;
;
ÔÔ; <
return
 
await
 
result
 
.
  
Skip
  $
(
$ %
startRow
% -
)
- .
.
. /
Take
/ 3
(
3 4

pageLength
4 >
)
> ?
.
? @
ToListAsync
@ K
(
K L
)
L M
;
M N
}
ÒÒ 	
public
˜˜ 
virtual
˜˜ 
void
˜˜ 
Dispose
˜˜ #
(
˜˜# $
)
˜˜$ %
{
¯¯ 	
Dispose
˘˘ 
(
˘˘ 
true
˘˘ 
)
˘˘ 
;
˘˘ 
GC
˙˙ 
.
˙˙ 
SuppressFinalize
˙˙ 
(
˙˙  
this
˙˙  $
)
˙˙$ %
;
˙˙% &
}
˚˚ 	
	protected
˛˛ 

IQueryable
˛˛ 
<
˛˛ 
T
˛˛ 
>
˛˛ 
QueryDb
˛˛  '
(
˛˛' (

Expression
˛˛( 2
<
˛˛2 3
Func
˛˛3 7
<
˛˛7 8
T
˛˛8 9
,
˛˛9 :
bool
˛˛; ?
>
˛˛? @
>
˛˛@ A
filter
˛˛B H
,
˛˛H I
Func
˛˛J N
<
˛˛N O

IQueryable
˛˛O Y
<
˛˛Y Z
T
˛˛Z [
>
˛˛[ \
,
˛˛\ ]
IOrderedQueryable
˛˛^ o
<
˛˛o p
T
˛˛p q
>
˛˛q r
>
˛˛r s
orderBy
˛˛t {
,
˛˛{ |
Func˛˛} Å
<˛˛Å Ç

IQueryable˛˛Ç å
<˛˛å ç
T˛˛ç é
>˛˛é è
,˛˛è ê

IQueryable˛˛ë õ
<˛˛õ ú
T˛˛ú ù
>˛˛ù û
>˛˛û ü
includes˛˛† ®
)˛˛® ©
{
ˇˇ 	

IQueryable
ÄÄ 
<
ÄÄ 
T
ÄÄ 
>
ÄÄ 
query
ÄÄ 
=
ÄÄ  !
_context
ÄÄ" *
.
ÄÄ* +
Set
ÄÄ+ .
<
ÄÄ. /
T
ÄÄ/ 0
>
ÄÄ0 1
(
ÄÄ1 2
)
ÄÄ2 3
;
ÄÄ3 4
if
ÇÇ 
(
ÇÇ 
filter
ÇÇ 
!=
ÇÇ 
null
ÇÇ 
)
ÇÇ 
{
ÉÉ 
query
ÑÑ 
=
ÑÑ 
query
ÑÑ 
.
ÑÑ 
Where
ÑÑ #
(
ÑÑ# $
filter
ÑÑ$ *
)
ÑÑ* +
;
ÑÑ+ ,
}
ÖÖ 
if
áá 
(
áá 
includes
áá 
!=
áá 
null
áá  
)
áá  !
{
àà 
query
ââ 
=
ââ 
includes
ââ  
(
ââ  !
query
ââ! &
)
ââ& '
;
ââ' (
}
ää 
if
åå 
(
åå 
orderBy
åå 
!=
åå 
null
åå 
)
åå  
{
çç 
query
éé 
=
éé 
orderBy
éé 
(
éé  
query
éé  %
)
éé% &
;
éé& '
}
èè 
return
ëë 
query
ëë 
;
ëë 
}
íí 	
}
ïï 
}ññ ©M
åC:\Users\LuisOsorio\Desktop\Universidad\Semestre II\Pruebas\Proyecto Arquitectura\postgress\src\Persistence\Repository\IGenericRepository.cs
	namespace 	

Repository
 
{ 
public		 

	interface		 
IGenericRepository		 '
<		' (
T		( )
>		) *
where		+ 0
T		1 2
:		3 4
class		5 :
{

 
T 	
Add
 
( 
T 
t 
) 
; 
Task 
< 
T 
> 
AddAsync 
( 
T 
t 
) 
; 
int 
Count 
( 
) 
; 
Task 
< 
int 
> 

CountAsync 
( 
) 
; 
void 
Delete 
( 
T 
entity 
) 
; 
void 
Delete 
( 
IEnumerable 
<  
T  !
>! "
entity# )
)) *
;* +
void 
Dispose 
( 
) 
; 
T 	
Find
 
( 

Expression 
< 
Func 
< 
T  
,  !
bool" &
>& '
>' (
match) .
,. /
params0 6

Expression7 A
<A B
FuncB F
<F G
TG H
,H I
objectJ P
>P Q
>Q R
[R S
]S T
includePropertiesU f
)f g
;g h
ICollection 
< 
T 
> 
FindAll 
( 

Expression )
<) *
Func* .
<. /
T/ 0
,0 1
bool2 6
>6 7
>7 8
match9 >
,> ?
params@ F

ExpressionG Q
<Q R
FuncR V
<V W
TW X
,X Y
objectZ `
>` a
>a b
[b c
]c d
includePropertiese v
)v w
;w x
Task 
< 
ICollection 
< 
T 
> 
> 
FindAllAsync )
() *

Expression* 4
<4 5
Func5 9
<9 :
T: ;
,; <
bool= A
>A B
>B C
matchD I
,I J
paramsK Q

ExpressionR \
<\ ]
Func] a
<a b
Tb c
,c d
objecte k
>k l
>l m
[m n
]n o
includeProperties	p Å
)
Å Ç
;
Ç É
Task 
< 
T 
> 
	FindAsync 
( 

Expression $
<$ %
Func% )
<) *
T* +
,+ ,
bool- 1
>1 2
>2 3
match4 9
,9 :
params; A

ExpressionB L
<L M
FuncM Q
<Q R
TR S
,S T
objectU [
>[ \
>\ ]
[] ^
]^ _
includeProperties` q
)q r
;r s

IQueryable 
< 
T 
> 
FindBy 
( 

Expression '
<' (
Func( ,
<, -
T- .
,. /
bool0 4
>4 5
>5 6
	predicate7 @
)@ A
;A B
Task 
< 
ICollection 
< 
T 
> 
> 

FindByAsyn '
(' (

Expression( 2
<2 3
Func3 7
<7 8
T8 9
,9 :
bool; ?
>? @
>@ A
	predicateB K
)K L
;L M
T 	
Get
 
( 
Guid 
id 
) 
; 

IQueryable 
< 
T 
> 
GetAll 
( 
) 
; 
Task 
< 
ICollection 
< 
T 
> 
> 

GetAllAsyn '
(' (
)( )
;) *

IQueryable 
< 
T 
> 
GetAllIncluding %
(% &
params& ,

Expression- 7
<7 8
Func8 <
<< =
T= >
,> ?
object@ F
>F G
>G H
[H I
]I J
includePropertiesK \
)\ ]
;] ^
Task 
< 
T 
> 
GetAsync 
( 
Guid 
id  
,  !
params" (

Expression) 3
<3 4
Func4 8
<8 9
T9 :
,: ;
object< B
>B C
>C D
[D E
]E F
includePropertiesG X
)X Y
;Y Z
T   	
Update  
 
(   
T   
t   
,   
object   
key    
)    !
;  ! "
Task"" 
<"" 
T"" 
>"" 
UpdateAsync"" 
("" 
T"" 
t"" 
,""  
object""! '
key""( +
)""+ ,
;"", -
Task$$ 
<$$ 
bool$$ 
>$$ 
AddRangeAsync$$  
($$  !
IEnumerable$$! ,
<$$, -
T$$- .
>$$. /
t$$0 1
)$$1 2
;$$2 3
bool&& 
AddRange&& 
(&& 
IEnumerable&& !
<&&! "
T&&" #
>&&# $
t&&% &
)&&& '
;&&' (
IEnumerable)) 
<)) 
T)) 
>)) 
GetPage)) 
()) 
int)) "
startRij))# +
,))+ ,
int))- 0
aantal))1 7
,))7 8
Func))9 =
<))= >

IQueryable))> H
<))H I
T))I J
>))J K
,))K L
IOrderedQueryable))M ^
<))^ _
T))_ `
>))` a
>))a b
orderBy))c j
=))k l
null))m q
,))q r
Func))s w
<))w x

IQueryable	))x Ç
<
))Ç É
T
))É Ñ
>
))Ñ Ö
,
))Ö Ü

IQueryable
))á ë
<
))ë í
T
))í ì
>
))ì î
>
))î ï
includes
))ñ û
=
))ü †
null
))° •
)
))• ¶
;
))¶ ß
Task** 
<** 
IEnumerable** 
<** 
T** 
>** 
>** 
GetPageAsync** )
(**) *
int*** -
startRij**. 6
,**6 7
int**8 ;
aantal**< B
,**B C
Func**D H
<**H I

IQueryable**I S
<**S T
T**T U
>**U V
,**V W
IOrderedQueryable**X i
<**i j
T**j k
>**k l
>**l m
orderBy**n u
=**v w
null**x |
,**| }
Func	**~ Ç
<
**Ç É

IQueryable
**É ç
<
**ç é
T
**é è
>
**è ê
,
**ê ë

IQueryable
**í ú
<
**ú ù
T
**ù û
>
**û ü
>
**ü †
includes
**° ©
=
**™ ´
null
**¨ ∞
)
**∞ ±
;
**± ≤
IEnumerable-- 
<-- 
T-- 
>-- 
	QueryPage--  
(--  !
int--! $
startRij--% -
,--- .
int--/ 2
aantal--3 9
,--9 :

Expression--; E
<--E F
Func--F J
<--J K
T--K L
,--L M
bool--N R
>--R S
>--S T
filter--U [
,--[ \
Func--] a
<--a b

IQueryable--b l
<--l m
T--m n
>--n o
,--o p
IOrderedQueryable	--q Ç
<
--Ç É
T
--É Ñ
>
--Ñ Ö
>
--Ö Ü
orderBy
--á é
=
--è ê
null
--ë ï
,
--ï ñ
Func
--ó õ
<
--õ ú

IQueryable
--ú ¶
<
--¶ ß
T
--ß ®
>
--® ©
,
--© ™

IQueryable
--´ µ
<
--µ ∂
T
--∂ ∑
>
--∑ ∏
>
--∏ π
includes
--∫ ¬
=
--√ ƒ
null
--≈ …
)
--…  
;
--  À
Task.. 
<.. 
IEnumerable.. 
<.. 
T.. 
>.. 
>.. 
QueryPageAsync.. +
(..+ ,
int.., /
startRij..0 8
,..8 9
int..: =
aantal..> D
,..D E

Expression..F P
<..P Q
Func..Q U
<..U V
T..V W
,..W X
bool..Y ]
>..] ^
>..^ _
filter..` f
,..f g
Func..h l
<..l m

IQueryable..m w
<..w x
T..x y
>..y z
,..z {
IOrderedQueryable	..| ç
<
..ç é
T
..é è
>
..è ê
>
..ê ë
orderBy
..í ô
=
..ö õ
null
..ú †
,
..† °
Func
..¢ ¶
<
..¶ ß

IQueryable
..ß ±
<
..± ≤
T
..≤ ≥
>
..≥ ¥
,
..¥ µ

IQueryable
..∂ ¿
<
..¿ ¡
T
..¡ ¬
>
..¬ √
>
..√ ƒ
includes
..≈ Õ
=
..Œ œ
null
..– ‘
)
..‘ ’
;
..’ ÷
}55 
}66 